---

# See Your repo > Settings > Actions > Runner > New Runner
- name: Download the Runner Installer
  get_url:
    url: https://raw.githubusercontent.com/jonpugh/github-runner/refs/heads/main/github-runner
    dest: /usr/local/bin/github-runner
    mode: 0755

- name: Download the dependency Installer
  get_url:
    url: https://raw.githubusercontent.com/actions/runner/refs/tags/v2.326.0/src/Misc/layoutbin/installdependencies.sh
    dest: /usr/local/bin/install-github-runner-dependencies
    mode: 0755

- name: Install dependencies
  command: /usr/local/bin/install-github-runner-dependencies

- name: Update apt cache (Debian).
  apt: update_cache=true cache_valid_time=86400
  when: ansible_os_family == 'Debian'

- name: Ensure jq is installed.
  package:
    name: "{{ operations_runner_extra_packages }}"
    state: present

- name: Configure GitHub Runners
  include_tasks: github.yml
  with_items: "{{ operations_github_runners }}"

